{"version":3,"file":"commonHelpers.js","sources":["../src/js/dateRender.js","../src/js/localStorage.js","../src/js/script.js"],"sourcesContent":["const refs = {\n  time: document.querySelector('.time'),\n};\n\nfunction getTime() {\n  const currentDate = new Date();\n  const days = currentDate.getDate().toString().padStart(2, '0');\n  const months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n  ];\n  const month = months[currentDate.getMonth()];\n  const year = currentDate.getFullYear();\n  const hours = currentDate.getHours().toString().padStart(2, '0');\n  const minutes = currentDate.getMinutes().toString().padStart(2, '0');\n  const seconds = currentDate.getSeconds().toString().padStart(2, '0');\n\n  return `${days} ${month} ${year}, ${hours}:${minutes}:${seconds}`;\n}\n\nfunction updateTime() {\n  refs.time.textContent = getTime();\n}\n\nsetInterval(updateTime, 1000);\nupdateTime();\n\nexport default Date;\n","export function saveToLs(key, value) {\n  const json = JSON.stringify(value);\n  localStorage.setItem(key, json);\n}\n\nexport function loadFromLs(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return null;\n  }\n}\n","import Date from './dateRender';\nimport { saveToLs, loadFromLs } from './localStorage';\n\nconst refs = {\n  form: document.querySelector('.js-form'),\n  todoList: document.querySelector('.todos-list'),\n  select: document.querySelector('.todos-select'),\n};\n\nlet todos = loadFromLs('todos') || [];\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const todosName = e.currentTarget.elements.todos.value.trim();\n  const todosPriority = e.currentTarget.elements.select.value;\n\n  if (!todosName || !todosPriority) {\n    alert('Please enter both a task and a priority');\n    return;\n  }\n\n  const todo = {\n    id: Date.now(),\n    text: todosName,\n    priority: todosPriority,\n  };\n  todos.push(todo);\n  saveToLs('todos', todos);\n\n  refs.todoList.insertAdjacentHTML('beforeend', createTodoMarkup(todo));\n  e.currentTarget.reset();\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const storedTodos = loadFromLs('todos');\n  if (storedTodos) {\n    todos = storedTodos;\n    refs.todoList.innerHTML = todos.map(createTodoMarkup).join('');\n  }\n});\n\nrefs.todoList.addEventListener('click', e => {\n  if (e.target.nodeName !== 'BUTTON') return;\n\n  const todoId = Number(e.target.dataset.id);\n\n  if (e.target.id === 'delete') {\n    todos = todos.filter(item => item.id !== todoId);\n    saveToLs('todos', todos);\n    e.target.closest('.todos-item').remove();\n  }\n});\n\nfunction createBgColor(priority) {\n  switch (priority) {\n    case 'high':\n      return '#F08080';\n    case 'medium':\n      return '#FFFACD';\n    case 'low':\n      return '#D3D3D3';\n    default:\n      return '#fff';\n  }\n}\n\nfunction createTodoMarkup({ text, priority, id }) {\n  const bgColor = createBgColor(priority);\n\n  return `\n    <li class=\"todos-item\" style=\"background-color: ${bgColor}\">\n      <span class=\"todos-text\">${text}</span>\n      <span class=\"todos-info\">${priority}</span>\n      <div class=\"btn-wrapper\">\n        <button id=\"edit\" class=\"edit\" data-id=\"${id}\" type=\"button\">&#9998;</button>\n        <button id=\"done\" class=\"done\" data-id=\"${id}\" type=\"button\">&#10003;</button>\n        <button id=\"delete\" class=\"delete\" data-id=\"${id}\" type=\"button\">&#10007;</button>\n      </div>\n    </li>`;\n}\n"],"names":["refs","getTime","currentDate","days","month","year","hours","minutes","seconds","updateTime","Date$1","saveToLs","key","value","json","loadFromLs","todos","e","todosName","todosPriority","todo","Date","createTodoMarkup","storedTodos","todoId","item","createBgColor","priority","text","id"],"mappings":"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"}