{"version":3,"file":"commonHelpers.js","sources":["../src/js/dateRender.js","../src/js/localStorage.js","../src/js/todoMarkup.js","../src/js/script.js"],"sourcesContent":["const refs = {\n  time: document.querySelector('.time'),\n};\n\nfunction getTime() {\n  const currentDate = new Date();\n  const days = currentDate.getDate().toString().padStart(2, '0');\n  const months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n  ];\n  const month = months[currentDate.getMonth()];\n  const year = currentDate.getFullYear();\n  const hours = currentDate.getHours().toString().padStart(2, '0');\n  const minutes = currentDate.getMinutes().toString().padStart(2, '0');\n  const seconds = currentDate.getSeconds().toString().padStart(2, '0');\n\n  return `${days} ${month} ${year}, ${hours}:${minutes}:${seconds}`;\n}\n\nfunction updateTime() {\n  refs.time.textContent = getTime();\n}\n\nsetInterval(updateTime, 1000);\nupdateTime();\n\nexport default Date;\n","export function saveToLs(key, value) {\n  const json = JSON.stringify(value);\n  localStorage.setItem(key, json);\n}\n\nexport function loadFromLs(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return null;\n  }\n}\n","export function sortTodosByPriority(todos) {\n  const priorityOrder = { high: 3, medium: 2, low: 1 };\n  return todos.sort(\n    (a, b) => priorityOrder[b.priority] - priorityOrder[a.priority]\n  );\n}\n\nexport function createBgColor(priority) {\n  switch (priority) {\n    case 'high':\n      return '#F08080';\n    case 'medium':\n      return '#FFFACD';\n    case 'low':\n      return '#D3D3D3';\n    default:\n      return '#fff';\n  }\n}\n\nexport function createTodoMarkup({ text, priority, id }) {\n  const bgColor = createBgColor(priority);\n\n  return `\n      <li class=\"todos-item\" style=\"background-color: ${bgColor}\">\n        <span class=\"todos-text\">${text}</span>\n        <span class=\"todos-info\">${priority}</span>\n        <div class=\"btn-wrapper\">\n          <button id=\"edit\" class=\"edit\" data-id=\"${id}\" type=\"button\">&#9998;</button>\n          <button id=\"done\" class=\"done\" data-id=\"${id}\" type=\"button\">&#10003;</button>\n          <button id=\"delete\" class=\"delete\" data-id=\"${id}\" type=\"button\">&#10007;</button>\n        </div>\n      </li>`;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport Data from './dateRender';\n\nimport { saveToLs, loadFromLs } from './localStorage';\nimport {\n  sortTodosByPriority,\n  createBgColor,\n  createTodoMarkup,\n} from './todoMarkup';\n\nconst refs = {\n  form: document.querySelector('.js-form'),\n  todoList: document.querySelector('.todos-list'),\n  select: document.querySelector('.todos-select'),\n};\n\nlet todos = loadFromLs('todos') || [];\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const todosName = e.currentTarget.elements.todos.value.trim();\n  const todosPriority = e.currentTarget.elements.select.value;\n\n  if (!todosName || !todosPriority) {\n    return iziToast.error({\n      title: 'Error',\n      message: 'Please enter both a task and a priority',\n      position: 'topRight',\n    });\n  }\n\n  const todo = {\n    id: Date.now(),\n    text: todosName,\n    priority: todosPriority,\n  };\n  todos.push(todo);\n  todos = sortTodosByPriority(todos);\n  saveToLs('todos', todos);\n\n  refs.todoList.innerHTML = todos.map(createTodoMarkup).join('');\n  e.currentTarget.reset();\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (todos.length) {\n    todos = sortTodosByPriority(todos);\n    refs.todoList.innerHTML = todos.map(createTodoMarkup).join('');\n  }\n});\n\nrefs.todoList.addEventListener('click', e => {\n  if (e.target.nodeName !== 'BUTTON') return;\n\n  const todoId = Number(e.target.dataset.id);\n\n  if (e.target.id === 'delete') {\n    todos = todos.filter(item => item.id !== todoId);\n    saveToLs('todos', todos);\n    e.target.closest('.todos-item').remove();\n  }\n  if (e.target.id === 'done') {\n    const todoItem = e.target.closest('.todos-item');\n    todoItem.querySelector('.todos-text').style.textDecoration = 'line-through';\n  }\n  if (e.target.id === 'edit') {\n    const todoItem = e.target.closest('.todos-item');\n  }\n});\n"],"names":["refs","getTime","currentDate","days","month","year","hours","minutes","seconds","updateTime","saveToLs","key","value","json","loadFromLs","sortTodosByPriority","todos","priorityOrder","a","b","createBgColor","priority","createTodoMarkup","text","id","e","todosName","todosPriority","iziToast","todo","todoId","item","todoItem"],"mappings":"svBAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,CACtC,EAEA,SAASC,GAAU,CACjB,MAAMC,EAAc,IAAI,KAClBC,EAAOD,EAAY,QAAS,EAAC,SAAQ,EAAG,SAAS,EAAG,GAAG,EAevDE,EAdS,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,UACJ,EACuBF,EAAY,SAAU,CAAA,EACrCG,EAAOH,EAAY,cACnBI,EAAQJ,EAAY,SAAU,EAAC,SAAQ,EAAG,SAAS,EAAG,GAAG,EACzDK,EAAUL,EAAY,WAAY,EAAC,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC7DM,EAAUN,EAAY,WAAY,EAAC,SAAQ,EAAG,SAAS,EAAG,GAAG,EAEnE,MAAO,GAAGC,CAAI,IAAIC,CAAK,IAAIC,CAAI,KAAKC,CAAK,IAAIC,CAAO,IAAIC,CAAO,EACjE,CAEA,SAASC,GAAa,CACpBT,EAAK,KAAK,YAAcC,GAC1B,CAEA,YAAYQ,EAAY,GAAI,EAC5BA,EAAY,ECnCL,SAASC,EAASC,EAAKC,EAAO,CACnC,MAAMC,EAAO,KAAK,UAAUD,CAAK,EACjC,aAAa,QAAQD,EAAKE,CAAI,CAChC,CAEO,SAASC,EAAWH,EAAK,CAC9B,MAAME,EAAO,aAAa,QAAQF,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAME,CAAI,CAEhC,MAAU,CACN,OAAO,IACR,CACH,CCbO,SAASE,EAAoBC,EAAO,CACzC,MAAMC,EAAgB,CAAE,KAAM,EAAG,OAAQ,EAAG,IAAK,GACjD,OAAOD,EAAM,KACX,CAACE,EAAGC,IAAMF,EAAcE,EAAE,QAAQ,EAAIF,EAAcC,EAAE,QAAQ,CAClE,CACA,CAEO,SAASE,EAAcC,EAAU,CACtC,OAAQA,EAAQ,CACd,IAAK,OACH,MAAO,UACT,IAAK,SACH,MAAO,UACT,IAAK,MACH,MAAO,UACT,QACE,MAAO,MACV,CACH,CAEO,SAASC,EAAiB,CAAE,KAAAC,EAAM,SAAAF,EAAU,GAAAG,CAAE,EAAI,CAGvD,MAAO;AAAA,wDAFSJ,EAAcC,CAAQ,CAGuB;AAAA,mCAC5BE,CAAI;AAAA,mCACJF,CAAQ;AAAA;AAAA,oDAESG,CAAE;AAAA,oDACFA,CAAE;AAAA,wDACEA,CAAE;AAAA;AAAA,YAG1D,CCrBA,MAAMxB,EAAO,CACX,KAAM,SAAS,cAAc,UAAU,EACvC,SAAU,SAAS,cAAc,aAAa,EAC9C,OAAQ,SAAS,cAAc,eAAe,CAChD,EAEA,IAAIgB,EAAQF,EAAW,OAAO,GAAK,GAEnCd,EAAK,KAAK,iBAAiB,SAAUyB,GAAK,CACxCA,EAAE,eAAc,EAEhB,MAAMC,EAAYD,EAAE,cAAc,SAAS,MAAM,MAAM,OACjDE,EAAgBF,EAAE,cAAc,SAAS,OAAO,MAEtD,GAAI,CAACC,GAAa,CAACC,EACjB,OAAOC,EAAS,MAAM,CACpB,MAAO,QACP,QAAS,0CACT,SAAU,UAChB,CAAK,EAGH,MAAMC,EAAO,CACX,GAAI,KAAK,IAAK,EACd,KAAMH,EACN,SAAUC,CACd,EACEX,EAAM,KAAKa,CAAI,EACfb,EAAQD,EAAoBC,CAAK,EACjCN,EAAS,QAASM,CAAK,EAEvBhB,EAAK,SAAS,UAAYgB,EAAM,IAAIM,CAAgB,EAAE,KAAK,EAAE,EAC7DG,EAAE,cAAc,OAClB,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAC9CT,EAAM,SACRA,EAAQD,EAAoBC,CAAK,EACjChB,EAAK,SAAS,UAAYgB,EAAM,IAAIM,CAAgB,EAAE,KAAK,EAAE,EAEjE,CAAC,EAEDtB,EAAK,SAAS,iBAAiB,QAASyB,GAAK,CAC3C,GAAIA,EAAE,OAAO,WAAa,SAAU,OAEpC,MAAMK,EAAS,OAAOL,EAAE,OAAO,QAAQ,EAAE,EAOzC,GALIA,EAAE,OAAO,KAAO,WAClBT,EAAQA,EAAM,OAAOe,GAAQA,EAAK,KAAOD,CAAM,EAC/CpB,EAAS,QAASM,CAAK,EACvBS,EAAE,OAAO,QAAQ,aAAa,EAAE,OAAM,GAEpCA,EAAE,OAAO,KAAO,OAAQ,CAC1B,MAAMO,EAAWP,EAAE,OAAO,QAAQ,aAAa,EAC/CO,EAAS,cAAc,aAAa,EAAE,MAAM,eAAiB,cAC9D,CACGP,EAAE,OAAO,KAAO,QACDA,EAAE,OAAO,QAAQ,aAAa,CAEnD,CAAC"}