import{i as p}from"./assets/vendor-ad859c2f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const h={time:document.querySelector(".time")};function y(){const t=new Date,e=t.getDate().toString().padStart(2,"0"),n=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],r=t.getFullYear(),s=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),g=t.getSeconds().toString().padStart(2,"0");return`${e} ${n} ${r}, ${s}:${a}:${g}`}function d(){h.time.textContent=y()}setInterval(d,1e3);d();function u(t,e){const o=JSON.stringify(e);localStorage.setItem(t,o)}function b(t){const e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}function l(t){const e={high:3,medium:2,low:1};return t.sort((o,n)=>e[n.priority]-e[o.priority])}function S(t){switch(t){case"high":return"#F08080";case"medium":return"#FFFACD";case"low":return"#D3D3D3";default:return"#fff"}}function f({text:t,priority:e,id:o}){return`
      <li class="todos-item" style="background-color: ${S(e)}">
        <span class="todos-text">${t}</span>
        <span class="todos-info">${e}</span>
        <div class="btn-wrapper">
          <button id="edit" class="edit" data-id="${o}" type="button">&#9998;</button>
          <button id="done" class="done" data-id="${o}" type="button">&#10003;</button>
          <button id="delete" class="delete" data-id="${o}" type="button">&#10007;</button>
        </div>
      </li>`}function L(t){const e="https://pixabay.com/api/",o=new URLSearchParams({key:"44946850-4c776fe0ffa968f959f660738",q:t,image_type:"photo",orientation:"horizontal",safesearch:!0});return fetch(`${e}?${o}`).then(n=>{if(!n.ok)throw new Error(n.status);return n.json()})}function v(){const e=new Date().getHours();return e>=6&&e<10?"morning":e>=10&&e<16?"work":e>=16&&e<19?"evening":"night"}function m(){const t=v();L(t).then(e=>{if(e.hits.length>0){const o=e.hits[Math.floor(Math.random()*e.hits.length)].webformatURL;document.body.style.backgroundImage=`url(${o})`}else console.log("No images found for this query")}).catch(e=>{console.error("Error fetching background image:",e)})}const c={form:document.querySelector(".js-form"),todoList:document.querySelector(".todos-list"),select:document.querySelector(".todos-select")};let i=b("todos")||[];c.form.addEventListener("submit",t=>{t.preventDefault();const e=t.currentTarget.elements.todos.value.trim(),o=t.currentTarget.elements.select.value;if(!e||!o)return p.error({title:"Error",message:"Please enter both a task and a priority",position:"topRight"});const n={id:Date.now(),text:e,priority:o};i.push(n),i=l(i),u("todos",i),c.todoList.innerHTML=i.map(f).join(""),t.currentTarget.reset()});document.addEventListener("DOMContentLoaded",()=>{i.length&&(i=l(i),c.todoList.innerHTML=i.map(f).join(""))});c.todoList.addEventListener("click",t=>{if(t.target.nodeName!=="BUTTON")return;const e=Number(t.target.dataset.id);if(t.target.id==="delete"&&(i=i.filter(o=>o.id!==e),u("todos",i),t.target.closest(".todos-item").remove()),t.target.id==="done"){const o=t.target.closest(".todos-item");o.querySelector(".todos-text").style.textDecoration="line-through"}t.target.id==="edit"&&t.target.closest(".todos-item")});window.addEventListener("load",m);setInterval(m,36e5);
//# sourceMappingURL=commonHelpers.js.map
